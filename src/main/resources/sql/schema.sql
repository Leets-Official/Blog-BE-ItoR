CREATE TABLE User (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  username VARCHAR(255) NOT NULL,
  nickname VARCHAR(255),
  password VARCHAR(255),
  image_url VARCHAR(255),
  social BOOLEAN DEFAULT FALSE,
  description TEXT,
  birthday VARCHAR(20),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);


CREATE TABLE Token (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  user_id BIGINT,
  refresh_token VARCHAR(255),
  expired_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES User (id)
);

CREATE TABLE Post (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  user_id BIGINT,
  title VARCHAR(255),
  content TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES User (id)
);

CREATE TABLE Comment (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  board_id BIGINT,
  user_id BIGINT,
  parent_id BIGINT,
  content TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (board_id) REFERENCES Post (id),
  FOREIGN KEY (user_id) REFERENCES User (id)
);
